<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_252) on Mon Aug 03 19:07:37 CEST 2020 -->
<title>ERSSpecificModule</title>
<meta name="date" content="2020-08-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ERSSpecificModule";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ERSSpecificModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" target="_top">Frames</a></li>
<li><a href="ERSSpecificModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">main.java.de.bsi.tsesimulator.tse</div>
<h2 title="Class ERSSpecificModule" class="title">Class ERSSpecificModule</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>main.java.de.bsi.tsesimulator.tse.ERSSpecificModule</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ERSSpecificModule</span>
extends java.lang.Object</pre>
<div class="block">Represents the electronic record-keeping system specific module of the simulator. 
 It manages the transaction counter and the creation of <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/LogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">LogMessage</a>s. The latter are created in 2 parts: first part is created by ERSSpecificModule itself 
 since it only uses data already available to this class (input and counters kept by the ERSSpecificModule). The second part uses a <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> for the cryptographic 
 signing operation and for adding the value <i>logTime</i> to the log message. <br>
 The ERSSpecificModule is also responsible for setting data in <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a>s.<br>
 In addition to managing the transaction counter, the ERSSpecificModule manages a list of the currently open transactions and a <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> which 
 it uses to create the signature value and to get the log time.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>dpottkaemper</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>SecurityModule} ,{@linkplain CryptoCore}</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#algorithmOID">algorithmOID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#cryptoCore">cryptoCore</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#maxNumberOpenTransactions">maxNumberOpenTransactions</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#serialNumber">serialNumber</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#transactionCounter">transactionCounter</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Long,<a href="../../../../../../main/java/de/bsi/tsesimulator/tlv/TLVObject.html" title="class in main.java.de.bsi.tsesimulator.tlv">TLVObject</a>[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#transactionsOpen">transactionsOpen</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#ERSSpecificModule--">ERSSpecificModule</a></span>()</code>
<div class="block">Private parameterless constructor, since this class needs to be instantiated through the other constructors if one really wants to use it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#ERSSpecificModule-main.java.de.bsi.tsesimulator.tse.CryptoCore-byte:A-">ERSSpecificModule</a></span>(<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a>&nbsp;cryptoCoreForSigning,
                 byte[]&nbsp;serialNumber)</code>
<div class="block">Constructor which sets the CryptoCore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#ERSSpecificModule-main.java.de.bsi.tsesimulator.tse.CryptoCore-byte:A-long-">ERSSpecificModule</a></span>(<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a>&nbsp;cryptoCoreForSigning,
                 byte[]&nbsp;serialNumber,
                 long&nbsp;loadedTransactionCounter)</code>
<div class="block">The constructor that is used if the transaction number was loaded from a persistence file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#authenticateUser-java.lang.String-int-boolean-boolean-">authenticateUser</a></span>(java.lang.String&nbsp;userID,
                int&nbsp;role,
                boolean&nbsp;authenticationResult,
                boolean&nbsp;userIdManagedByTSE)</code>
<div class="block">The ERSSpecificModule version of the authenticateUser method.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#disableSecureElement--">disableSecureElement</a></span>()</code>
<div class="block">Creates a system log message which logs the usage of the disableSecureElement function and the time it was invoked (or rather, the time it was called
 in the ERSSpecificModule).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#finishTransaction-java.lang.String-long-byte:A-java.lang.String-byte:A-">finishTransaction</a></span>(java.lang.String&nbsp;clientID,
                 long&nbsp;transactionNumber,
                 byte[]&nbsp;processData,
                 java.lang.String&nbsp;processType,
                 byte[]&nbsp;additionalData)</code>
<div class="block">Finishes a transaction with the provided process data.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getAlgorithmOID--">getAlgorithmOID</a></span>()</code>
<div class="block">used for getting the algorithm oid that the ErsSpecificModule uses</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getCurrentTransactioncounter--">getCurrentTransactioncounter</a></span>()</code>
<div class="block">Used to get the transaction counter so that it may be persisted.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getCurrentUnixTime--">getCurrentUnixTime</a></span>()</code>
<div class="block">used for getting the current time so that it may be incorporated into the system log message created with an UpdateTime method</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getMaxNumberOpenTransactions--">getMaxNumberOpenTransactions</a></span>()</code>
<div class="block">Used for telling the TSEController how many transaction may simultaneously be opened at any given time.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getNumberOfOpenTransactions--">getNumberOfOpenTransactions</a></span>()</code>
<div class="block">Used for telling the TSEController how many transactions are currently open.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getOpenTransactionNumbers--">getOpenTransactionNumbers</a></span>()</code>
<div class="block">Obtains the transaction counters of the currently open transactions from the  Map<Long, TLVObject[]> transactionsOpen.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getTransactionNumberFromTransactionLogmessage-main.java.de.bsi.tsesimulator.tlv.TLVObject:A-">getTransactionNumberFromTransactionLogmessage</a></span>(<a href="../../../../../../main/java/de/bsi/tsesimulator/tlv/TLVObject.html" title="class in main.java.de.bsi.tsesimulator.tlv">TLVObject</a>[]&nbsp;input)</code>
<div class="block">Extracts the transactionNumber from a transaction logmessage encoded as a TLVObject array.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#initialize-java.lang.String-">initialize</a></span>(java.lang.String&nbsp;description)</code>
<div class="block">Is called by the TSEController when the TSE is initialized.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#logOut-java.lang.String-int-">logOut</a></span>(java.lang.String&nbsp;userID,
      int&nbsp;logOutCase)</code>
<div class="block">The LogOut method in the ERSSpecificModule that creates the systemOperationData for the SystemLogMessage from the userID and the logOutCase.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#startTransaction-java.lang.String-byte:A-java.lang.String-byte:A-">startTransaction</a></span>(java.lang.String&nbsp;cliendID,
                byte[]&nbsp;processData,
                java.lang.String&nbsp;processType,
                byte[]&nbsp;additionalData)</code>
<div class="block">The method that starts a transaction.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#unblockUser-java.lang.String-int-">unblockUser</a></span>(java.lang.String&nbsp;userID,
           int&nbsp;unblockResult)</code>
<div class="block">Creates a SystemLogMessage to log the attempt to unblock a user.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#updateTime--">updateTime</a></span>()</code>
<div class="block">The updateTime version for updateTime without explicitly passed time.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#updateTime-java.time.ZonedDateTime-">updateTime</a></span>(java.time.ZonedDateTime&nbsp;newTime)</code>
<div class="block">The updateTime version for time updates with explicitly passed time.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#updateTransaction-java.lang.String-long-byte:A-java.lang.String-">updateTransaction</a></span>(java.lang.String&nbsp;clientID,
                 long&nbsp;transactionNumber,
                 byte[]&nbsp;processData,
                 java.lang.String&nbsp;processType)</code>
<div class="block">Updates an open transaction with new data, provided the transaction to be updated already exists.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="transactionCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionCounter</h4>
<pre>private&nbsp;long transactionCounter</pre>
</li>
</ul>
<a name="algorithmOID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>algorithmOID</h4>
<pre>private&nbsp;java.lang.String algorithmOID</pre>
</li>
</ul>
<a name="maxNumberOpenTransactions">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxNumberOpenTransactions</h4>
<pre>private&nbsp;int maxNumberOpenTransactions</pre>
</li>
</ul>
<a name="transactionsOpen">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionsOpen</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Long,<a href="../../../../../../main/java/de/bsi/tsesimulator/tlv/TLVObject.html" title="class in main.java.de.bsi.tsesimulator.tlv">TLVObject</a>[]&gt; transactionsOpen</pre>
</li>
</ul>
<a name="cryptoCore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cryptoCore</h4>
<pre>private&nbsp;<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> cryptoCore</pre>
</li>
</ul>
<a name="serialNumber">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>serialNumber</h4>
<pre>private&nbsp;byte[] serialNumber</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ERSSpecificModule--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ERSSpecificModule</h4>
<pre>private&nbsp;ERSSpecificModule()</pre>
<div class="block">Private parameterless constructor, since this class needs to be instantiated through the other constructors if one really wants to use it.<br>
 Use <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#ERSSpecificModule-main.java.de.bsi.tsesimulator.tse.CryptoCore-byte:A-">ERSSpecificModule(CryptoCore, byte[])</a> or <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#ERSSpecificModule-main.java.de.bsi.tsesimulator.tse.CryptoCore-byte:A-long-">ERSSpecificModule(CryptoCore, byte[], long)</a> instead!</div>
</li>
</ul>
<a name="ERSSpecificModule-main.java.de.bsi.tsesimulator.tse.CryptoCore-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ERSSpecificModule</h4>
<pre>public&nbsp;ERSSpecificModule(<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a>&nbsp;cryptoCoreForSigning,
                         byte[]&nbsp;serialNumber)
                  throws java.io.IOException</pre>
<div class="block">Constructor which sets the CryptoCore. Used by the SecurityModule class to help the ERSSpecificModule access the signing functionality of the CryptoCore.
 Also sets the serial number so the LogMessages can be created with the correct serial number.
 
 The CryptoCore has to be given to the ERSSpecificModule so that it may use it to sign the log messages. Since the number of CryptoCores is not limited
 it could be possible that one ERSSpecificModule uses multiple CryptoCores in the future. That's the reason why the CryptoCore class can not provide a 
 static sign method and the ERSSpecificModule has to know its CryptoCore.
 
 <b>Changes in version 1.5:</b><br>
 Now stores the maximum number of transactions that can be opened simultaneously internally. If reading that value from the configuration file fails, the maximum number 
 of transactions is set to the value of <a href="../../../../../../main/java/de/bsi/tsesimulator/constants/Constants.html#DEFAULT_MAX_NUMBER_OF_TRANSACTIONS">Constants.DEFAULT_MAX_NUMBER_OF_TRANSACTIONS</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cryptoCoreForSigning</code> - the CryptoCore which signs all log messages. Note that in the future, 
 there could be different CryptoCores for different types of messages.</dd>
<dd><code>serialNumber</code> - the serialNumber of the TSE which is calculated as a hash of the public key used to sign messages</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if reading configuration file through <a href="../../../../../../main/java/de/bsi/tsesimulator/preferences/PropertyValues.html#getInstance--">PropertyValues.getInstance()</a> fails</dd>
</dl>
</li>
</ul>
<a name="ERSSpecificModule-main.java.de.bsi.tsesimulator.tse.CryptoCore-byte:A-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ERSSpecificModule</h4>
<pre>public&nbsp;ERSSpecificModule(<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a>&nbsp;cryptoCoreForSigning,
                         byte[]&nbsp;serialNumber,
                         long&nbsp;loadedTransactionCounter)
                  throws java.io.IOException</pre>
<div class="block">The constructor that is used if the transaction number was loaded from a persistence file. Is called by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html" title="class in main.java.de.bsi.tsesimulator.tse">SecurityModule</a>. The CryptoCore has to be given to the ERSSpecificModule so that it may use it to sign the log messages. Since the number of CryptoCores is not limited
 it could be possible that one ERSSpecificModule uses multiple CryptoCores in the future. That's the reason why the CryptoCore class can not provide a 
 static sign method and the ERSSpecificModule has to know its CryptoCore.<br>
 
 The ERSSpecificModule gets the serial number as well so it can use it to create the log messages correctly and does not have to ask the CryptoCore
 for its serial number each time it wants to create a log message.
 
 <b>Changes in version 1.5:</b><br>
 Now stores the maximum number of transactions that can be opened simultaneously internally. If reading that value from the configuration file fails, the maximum number 
 of transactions is set to the value of <a href="../../../../../../main/java/de/bsi/tsesimulator/constants/Constants.html#DEFAULT_MAX_NUMBER_OF_TRANSACTIONS">Constants.DEFAULT_MAX_NUMBER_OF_TRANSACTIONS</a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cryptoCoreForSigning</code> - the CryptoCore which signs all log messages. Note that in the future, 
 there could be different CryptoCores for different types of messages.</dd>
<dd><code>serialNumber</code> - the serialNumber of the TSE which is calculated as a hash of the public key used to sign messages</dd>
<dd><code>loadedTransactionCounter</code> - the transaction counter that was loaded from a file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if reading configuration file through <a href="../../../../../../main/java/de/bsi/tsesimulator/preferences/PropertyValues.html#getInstance--">PropertyValues.getInstance()</a> fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startTransaction-java.lang.String-byte:A-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransaction</h4>
<pre>public&nbsp;byte[]&nbsp;startTransaction(java.lang.String&nbsp;cliendID,
                               byte[]&nbsp;processData,
                               java.lang.String&nbsp;processType,
                               byte[]&nbsp;additionalData)
                        throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                               java.security.SignatureException,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorTransactionCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorTransactionCounterOverflow</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/TooManyOpenTransactionsException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">TooManyOpenTransactionsException</a></pre>
<div class="block">The method that starts a transaction. It constructs a TrasactionlogMessage and fills it with the parameters it gets from its caller.
 After the construction of the upper part of the logmessage this method converts the logmessage into a byte array and passes it to the CryptoCore which signs
 the logmessage. The CryptoCore passes the bottom part of the logmessage with the signature counter, the logtime and the signature as a byte array back to this method
 which then adds this part to the upper logmessage byte array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cliendID</code> - - represents the ID of the application that has invoked the function.</dd>
<dd><code>processData</code> - - the process data that has to be logged as an octet string</dd>
<dd><code>processType</code> - - represents the type of the transaction as defined by the application. Is OPTIONAL according to TR-03151 but MUST requirement
 according to TR-03153..</dd>
<dd><code>additionalData</code> - - OPTIONAL. currently reserved for future use.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a TransactionLogMessage encoded as an ASN1 byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorTransactionCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorTransactionCounterOverflow</a></code> - when incrementing the transaction counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/TooManyOpenTransactionsException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">TooManyOpenTransactionsException</a></code> - when starting this transaction would exceed the legal number of transactions that are allowed to be open simultaneously</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="updateTransaction-java.lang.String-long-byte:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTransaction</h4>
<pre>public&nbsp;byte[]&nbsp;updateTransaction(java.lang.String&nbsp;clientID,
                                long&nbsp;transactionNumber,
                                byte[]&nbsp;processData,
                                java.lang.String&nbsp;processType)
                         throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                                java.security.SignatureException,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></pre>
<div class="block">Updates an open transaction with new data, provided the transaction to be updated already exists. Currently only self-contained updates are supported.
 This method creates a new TransactionLogMessage and passes the parameters to it. Since the updates currently do not support additional external data
 this value is set to "null" when the TransactionLogMessage is created.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientID</code> - - represents the ID of the application that has invoked the function.</dd>
<dd><code>transactionNumber</code> - - number of the transaction to be updated. Has to exist for the correct execution of this function.</dd>
<dd><code>processData</code> - - the process data that has to be logged as an octet string</dd>
<dd><code>processType</code> - - represents the type of the transaction as defined by the application. Is OPTIONAL according to TR-03151 but MUST requirement
 according to TR-03153.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a TransactionLogMessage encoded as an ASN1 byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a></code> - if no open transaction exists with the given transaction number</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="finishTransaction-java.lang.String-long-byte:A-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishTransaction</h4>
<pre>public&nbsp;byte[]&nbsp;finishTransaction(java.lang.String&nbsp;clientID,
                                long&nbsp;transactionNumber,
                                byte[]&nbsp;processData,
                                java.lang.String&nbsp;processType,
                                byte[]&nbsp;additionalData)
                         throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                                java.security.SignatureException,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></pre>
<div class="block">Finishes a transaction with the provided process data. The method checks, whether the transaction that should be closed exists and if it does,
 it creates a TransactionLogMessage with the parameters passed in the method call. When the log message has been created successfully, it is
 removed from the list of open transactions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientID</code> - - represents the ID of the application that has invoked the function.</dd>
<dd><code>transactionNumber</code> - - number of the transaction to be updated. Has to exist for the correct execution of this function.</dd>
<dd><code>processData</code> - - the process data that has to be logged as an octet string</dd>
<dd><code>processType</code> - - represents the type of the transaction as defined by the application. Is OPTIONAL.</dd>
<dd><code>additionalData</code> - - OPTIONAL. currently reserved for future use.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a TransactionLogMessage encoded as an ASN1 byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a></code> - if no open transaction exists with the given transaction number.<b>NOT REQUIRED TO BE THROWN AS OF VERSION 1.0.1 BSI TR-03151.</b></dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="initialize-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;byte[]&nbsp;initialize(java.lang.String&nbsp;description)
                  throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorSigningSystemOperationDataFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorSigningSystemOperationDataFailed</a>,
                         java.security.SignatureException,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Is called by the TSEController when the TSE is initialized. Has to get the description of the SE API as a parameter. 
 In case of a call to <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#initialize--">TSEController.initialize()</a> causing the creation of the System Log, the description <b>will be null</b> and the resulting 
 System Log <b>will not</b> contain the field systemOperationData.
 <br>Will create a SystemLogMessage which logs the initialization.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>description</code> - the description of the SE API or null</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as a ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorSigningSystemOperationDataFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorSigningSystemOperationDataFailed</a></code> - if the conversion of the description String to a TLV byte array fails.</dd>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not. Should result into an ErrorSigningSystemOperationDataFailed
 in a superior class.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="updateTime-java.time.ZonedDateTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTime</h4>
<pre>public&nbsp;byte[]&nbsp;updateTime(java.time.ZonedDateTime&nbsp;newTime)
                  throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                         java.security.SignatureException,
                         <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorInvalidTime.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorInvalidTime</a>,
                         <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTimeFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTimeFailed</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></pre>
<div class="block">The updateTime version for time updates with explicitly passed time. This method converts the newTime object to UnixTime (the time format currently 
 supported in this TSE simulator) and then uses the new time and the old time to create a TLV encoded byte array for the systemOperationData.
 The systemOperationdata is created according to BSI TR-03151 Appendix A.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newTime</code> - - the time to be set on the CryptoCore's clock in the java.time.ZonedDateTime format.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as a ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing time (for example <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html#getTimeAsUnixTime--">CryptoCore.getTimeAsUnixTime()</a> returning null) would cause such an Exception.</dd>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorInvalidTime.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorInvalidTime</a></code> - if the newTime is an illegal time, that is, if the new time is before 1.1.2019 or after 1.1.2100. In that case, no logmessage
 is created and no new time is set.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTimeFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTimeFailed</a></code> - if the functionality of the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> to update the time fails.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="updateTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTime</h4>
<pre>public&nbsp;byte[]&nbsp;updateTime()
                  throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                         java.security.SignatureException,
                         <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTimeFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTimeFailed</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></pre>
<div class="block">The updateTime version for updateTime without explicitly passed time. Tries to synchronize the CryptoCore's clock to the current system time.
 Creates the systemOperation data from the old time before the update and the time directly after the update. 
 The systemOperationdata is created according to BSI TR-03151 Appendix A.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing time (for example <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html#getTimeAsUnixTime--">CryptoCore.getTimeAsUnixTime()</a> returning null)  would cause such an Exception.</dd>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTimeFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTimeFailed</a></code> - if the functionality of the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> to synchronize its time fails.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="disableSecureElement--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableSecureElement</h4>
<pre>public&nbsp;byte[]&nbsp;disableSecureElement()
                            throws java.security.SignatureException,
                                   <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                                   <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                                   <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Creates a system log message which logs the usage of the disableSecureElement function and the time it was invoked (or rather, the time it was called
 in the ERSSpecificModule).
 The systemOperationdata is created according to BSI TR-03151 Appendix A.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html#sign-byte:A-"><code>CryptoCore.sign(byte[])</code></a></dd>
</dl>
</li>
</ul>
<a name="authenticateUser-java.lang.String-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authenticateUser</h4>
<pre>public&nbsp;byte[]&nbsp;authenticateUser(java.lang.String&nbsp;userID,
                               int&nbsp;role,
                               boolean&nbsp;authenticationResult,
                               boolean&nbsp;userIdManagedByTSE)
                        throws java.security.SignatureException,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">The ERSSpecificModule version of the authenticateUser method. Has to get the userID, the user's role and the result from the TSE or the SecurityModule. 
 The role is either "admin" , "timeAdmin" or <b>empty</b> if the userID is not managed by the secure element.
 The authentication result is logged as "0xFF" for TRUE and "0x00" for false.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userID</code> - - the ID of the user attempting to authenticate itself</dd>
<dd><code>role</code> - - the role that is associated with the user, as determined by the TSE or the SecurityModule. Note that it is an ASN1 enumerated.</dd>
<dd><code>authenticationResult</code> - - is determined by the TSE or the SecurityModule and is either TRUE (for authenticated) or FALSE (for not authenticated).
 Is encoded as 0xff for true and 0x00 for false in the systemOperationData.</dd>
<dd><code>userIdManagedByTSE</code> - - true if the user id that has invoked the authentication function exists and is managed by the
 TSE. False otherwise. Relevant for the creation of the roleTLVObject and the role byte array. If the userID is not managed by
 the TSE, the role object will only consist of a Tag 0x82 and a length of 0. <b>Could cause problems if this is not correctly interpreted as a null value!</b></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="logOut-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logOut</h4>
<pre>public&nbsp;byte[]&nbsp;logOut(java.lang.String&nbsp;userID,
                     int&nbsp;logOutCase)
              throws java.security.SignatureException,
                     <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                     <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                     <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">The LogOut method in the ERSSpecificModule that creates the systemOperationData for the SystemLogMessage from the userID and the logOutCase.
 If the userID is managed by the TSE or not has to be determined at a higher level. This method should only be called if the userID exists and
 is managed by the TSE.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userID</code> - - the ID of the user attempting to be logged out</dd>
<dd><code>logOutCase</code> - - indicates who initiated the logout process. Note that it is an ASN1 enumerated.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="unblockUser-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unblockUser</h4>
<pre>public&nbsp;byte[]&nbsp;unblockUser(java.lang.String&nbsp;userID,
                          int&nbsp;unblockResult)
                   throws java.security.SignatureException,
                          <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                          <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                          <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Creates a SystemLogMessage to log the attempt to unblock a user. The log is created even if the userID is not managed by the TSE. In that case,
 the unblockResult is set to "unknownUserId".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userID</code> - the ID of the user attempting to be unblocked</dd>
<dd><code>unblockResult</code> - indicates whether the user has been unblocked, the unblock failed, the userID is not managed by the TSE or there has been
 an error during the execution of the unblock functionality. Note that this is an ASN1 enumerated type.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 TLV byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.SignatureException</code> - if the signing functionality of the CryptoCore fails for any reason. First approach for fixing this should be to 
 make sure, that the bit length of the order of the base point G of the chosen curve is equal or smaller than the output of the hash
 function. E.g. SHA512 with brainpoolP256r1 works, but SHA256 with brainpoolP512r1 does not.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>CryptoCore#sign(byte[])}</code></dd>
</dl>
</li>
</ul>
<a name="getMaxNumberOpenTransactions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxNumberOpenTransactions</h4>
<pre>public&nbsp;int&nbsp;getMaxNumberOpenTransactions()</pre>
<div class="block">Used for telling the TSEController how many transaction may simultaneously be opened at any given time. The internal value maxNumberOpenTransactions is determined 
 by the configuration file or the value of <a href="../../../../../../main/java/de/bsi/tsesimulator/constants/Constants.html#DEFAULT_MAX_NUMBER_OF_TRANSACTIONS">Constants.DEFAULT_MAX_NUMBER_OF_TRANSACTIONS</a>, in case of an invalid value in the config file.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the internal value of maxNumberOpenTransactions</dd>
</dl>
</li>
</ul>
<a name="getNumberOfOpenTransactions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfOpenTransactions</h4>
<pre>public&nbsp;int&nbsp;getNumberOfOpenTransactions()</pre>
<div class="block">Used for telling the TSEController how many transactions are currently open. This is done via a call of transactionsOpen.size() from
 Map.size().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of transactions currently considered open.</dd>
</dl>
</li>
</ul>
<a name="getCurrentUnixTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentUnixTime</h4>
<pre>public&nbsp;long&nbsp;getCurrentUnixTime()</pre>
<div class="block">used for getting the current time so that it may be incorporated into the system log message created with an UpdateTime method</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="getAlgorithmOID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlgorithmOID</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAlgorithmOID()</pre>
<div class="block">used for getting the algorithm oid that the ErsSpecificModule uses</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the algorithm oid in the "dot notation".</dd>
</dl>
</li>
</ul>
<a name="getCurrentTransactioncounter--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTransactioncounter</h4>
<pre>long&nbsp;getCurrentTransactioncounter()</pre>
<div class="block">Used to get the transaction counter so that it may be persisted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current transaction counter</dd>
</dl>
</li>
</ul>
<a name="getTransactionNumberFromTransactionLogmessage-main.java.de.bsi.tsesimulator.tlv.TLVObject:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionNumberFromTransactionLogmessage</h4>
<pre>public static&nbsp;long&nbsp;getTransactionNumberFromTransactionLogmessage(<a href="../../../../../../main/java/de/bsi/tsesimulator/tlv/TLVObject.html" title="class in main.java.de.bsi.tsesimulator.tlv">TLVObject</a>[]&nbsp;input)</pre>
<div class="block">Extracts the transactionNumber from a transaction logmessage encoded as a TLVObject array. The calling method must make sure that the 
 TLVObject array is a TransactionLogMessage. The method <b> does </b> check whether or not the TLVObject array is the SEQUENCE-wrapped version that the SecurityModule 
 produces or the plain version that the ErsSpecificModule produces.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction number of the logmessage that was passed in</dd>
</dl>
</li>
</ul>
<a name="getOpenTransactionNumbers--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getOpenTransactionNumbers</h4>
<pre>protected&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;getOpenTransactionNumbers()</pre>
<div class="block">Obtains the transaction counters of the currently open transactions from the  Map<Long, TLVObject[]> transactionsOpen.
 Is used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#gracefulShutdown--">TSEController.gracefulShutdown()</a> to close all remaining transactions via the usage of <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#finishTransaction-java.lang.String-long-byte:A-java.lang.String-byte:A-">SecurityModule.finishTransaction(String, long, byte[], String, byte[])</a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Set of transaction numbers of currently open transactions</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ERSSpecificModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" target="_top">Frames</a></li>
<li><a href="ERSSpecificModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
