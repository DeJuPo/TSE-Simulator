<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_252) on Mon Aug 03 19:07:37 CEST 2020 -->
<title>SecurityModule</title>
<meta name="date" content="2020-08-03">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SecurityModule";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecurityModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?main/java/de/bsi/tsesimulator/tse/SecurityModule.html" target="_top">Frames</a></li>
<li><a href="SecurityModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">main.java.de.bsi.tsesimulator.tse</div>
<h2 title="Class SecurityModule" class="title">Class SecurityModule</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>main.java.de.bsi.tsesimulator.tse.SecurityModule</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">SecurityModule</span>
extends java.lang.Object</pre>
<div class="block">Class represents the secure element (or security module as it is called in TR-03153) present in the TSE.<br>
 It consists of a <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> and a <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> which are both used to create LogMessages. The SecurityModule stores the values of supported 
 update variants, supported time synchronization variants and the status of itself, mostly, whether it has been disabled or not.
 In Addition to that, it buffers the last log message it created in internal volatile storage so that <a href="../../../../../../main/java/de/bsi/seapi/SEAPI.html#readLogMessage-main.java.de.bsi.seapi.holdertypes.ByteArrayHolder-">SEAPI.readLogMessage(main.java.de.bsi.seapi.holdertypes.ByteArrayHolder)</a> 
 can access that last log message.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>dpottkaemper</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.HashSet&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#clientsUsingTSE">clientsUsingTSE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#cryptoCore">cryptoCore</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#erssm">erssm</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#latestLogMessage">latestLogMessage</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#maxNumberClients">maxNumberClients</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#secureElementIsDisabled">secureElementIsDisabled</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#serialNumber">serialNumber</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../main/java/de/bsi/seapi/holdertypes/SyncVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">SyncVariantsHolder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#supportedTimeSync">supportedTimeSync</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../main/java/de/bsi/seapi/holdertypes/UpdateVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">UpdateVariantsHolder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#supportedUpdates">supportedUpdates</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#SecurityModule--">SecurityModule</a></span>()</code>
<div class="block">Default constructor for the Security Module.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#SecurityModule-boolean-long-long-long-">SecurityModule</a></span>(boolean&nbsp;isDisabledLoaded,
              long&nbsp;signatureCounterLoaded,
              long&nbsp;transactionNumberLoaded,
              long&nbsp;clockTimeUnixLoaded)</code>
<div class="block">The constructor that shall be used when a persistence file was loaded.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#authenticateUser-java.lang.String-int-boolean-boolean-">authenticateUser</a></span>(java.lang.String&nbsp;userID,
                int&nbsp;role,
                boolean&nbsp;authenticationResult,
                boolean&nbsp;userIdManagedByTSE)</code>
<div class="block">Is used by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to have the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> create a SystemLogMessage logging the attempt to authenticate
 a user.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#deregisterAllClients--">deregisterAllClients</a></span>()</code>
<div class="block">Used by         <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#gracefulShutdown--">TSEController.gracefulShutdown()</a> to de-register all the currently registered clients.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#deregisterClient-java.lang.String-">deregisterClient</a></span>(java.lang.String&nbsp;clientId)</code>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#deregisterClient-java.lang.String-">TSEController.deregisterClient(String)</a> to remove a client from the set of registered ones.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#disableSE--">disableSE</a></span>()</code>
<div class="block">Calls <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#disableSecureElement--">ERSSpecificModule.disableSecureElement()</a> to create a SEQUENCE-wrapped <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a> logging the process of disabling the SecureElement.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#finishTransaction-java.lang.String-long-byte:A-java.lang.String-byte:A-">finishTransaction</a></span>(java.lang.String&nbsp;clientID,
                 long&nbsp;transactionNumber,
                 byte[]&nbsp;processData,
                 java.lang.String&nbsp;processType,
                 byte[]&nbsp;additionalData)</code>
<div class="block">Calls the FinishTransaction method in the ERSSpecificModule class and wraps the result with the SEQUENCE wrapper.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getCryptoCore--">getCryptoCore</a></span>()</code>
<div class="block">Fetches the CryptoCore used by this SecurityModule</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getCurrentTimeFromCryptoCore--">getCurrentTimeFromCryptoCore</a></span>()</code>
<div class="block">Used to get the current time of the clock in the CryptoCore as Unix time.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getCurrentTransactionCounter--">getCurrentTransactionCounter</a></span>()</code>
<div class="block">used to get the transaction counter from the ERSSpecificModule.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getERSSMMaxNumberOpenTransactions--">getERSSMMaxNumberOpenTransactions</a></span>()</code>
<div class="block">Calls <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getMaxNumberOpenTransactions--">ERSSpecificModule.getMaxNumberOpenTransactions()</a> to determine the maximum number of transactions that may be opened simultaneously.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.Long&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getERSSMOpenTransactionNumbers--">getERSSMOpenTransactionNumbers</a></span>()</code>
<div class="block">Gets a Set of the transaction numbers associated with currently open transactions from the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getLatestLogMessage--">getLatestLogMessage</a></span>()</code>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to obtain the last log message created for <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#readLogMessage-main.java.de.bsi.seapi.holdertypes.ByteArrayHolder-">TSEController.readLogMessage(main.java.de.bsi.seapi.holdertypes.ByteArrayHolder)</a>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getMaxNumberClients--">getMaxNumberClients</a></span>()</code>
<div class="block">fetches the internally stored number of clients that are the maximum for clients using the TSE simulator simultaneously.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getNumberOfERSSMopenTransactions--">getNumberOfERSSMopenTransactions</a></span>()</code>
<div class="block">Calls the ERSSpecificModule to get the number of currently open transactions.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getNumberOfRegisteredClients--">getNumberOfRegisteredClients</a></span>()</code>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to get the number of clients that are currently registered to use the TSE.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getSecureElementIsDisabled--">getSecureElementIsDisabled</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getSerialNumber--">getSerialNumber</a></span>()</code>
<div class="block">Fetches the stored serial number.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../../../main/java/de/bsi/seapi/holdertypes/SyncVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">SyncVariantsHolder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getSyncVariants--">getSyncVariants</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../main/java/de/bsi/seapi/holdertypes/UpdateVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">UpdateVariantsHolder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#getUpdateVariants--">getUpdateVariants</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#initialize-java.lang.String-">initialize</a></span>(java.lang.String&nbsp;description)</code>
<div class="block">Calls <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#initialize-java.lang.String-">ERSSpecificModule.initialize(String)</a> to create a SystemLogMessage and wraps it with the SEQUENCE wrapper.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#logOutUser-java.lang.String-">logOutUser</a></span>(java.lang.String&nbsp;userId)</code>
<div class="block">Is used by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to have the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> create a SystemLogMessage logging the successful log out 
 operation of a user.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#registerClient-java.lang.String-">registerClient</a></span>(java.lang.String&nbsp;clientId)</code>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#registerClient-java.lang.String-">TSEController.registerClient(String)</a> to add a new clientId to the set of registered ones.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#setDisabled--">setDisabled</a></span>()</code>
<div class="block">Separate method to disable the secure element as the TR-03151 implicates in the description of the disableSecureElement function.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#startTransaction-java.lang.String-byte:A-java.lang.String-byte:A-">startTransaction</a></span>(java.lang.String&nbsp;clientID,
                byte[]&nbsp;processData,
                java.lang.String&nbsp;processType,
                byte[]&nbsp;additionalData)</code>
<div class="block">Calls the startTransaction method in the ERSSpecificModule class and wraps the result with the SEQUENCE wrapper.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#unblockUser-java.lang.String-int-">unblockUser</a></span>(java.lang.String&nbsp;userID,
           int&nbsp;unblockResult)</code>
<div class="block">Is used by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to have the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> create a SystemLogMessage logging the invocation of the function 
 unblockUser.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#updateTime-java.time.ZonedDateTime-boolean-">updateTime</a></span>(java.time.ZonedDateTime&nbsp;newTime,
          boolean&nbsp;explicitTimeWasPassed)</code>
<div class="block">Calls the updateTime method in the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a>.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/SecurityModule.html#updateTransaction-java.lang.String-long-byte:A-java.lang.String-">updateTransaction</a></span>(java.lang.String&nbsp;clientID,
                 long&nbsp;transactionNumber,
                 byte[]&nbsp;processData,
                 java.lang.String&nbsp;processType)</code>
<div class="block">Calls the updateTransaction method in the ERSSpecificModule class and wraps the result with the SEQUENCE wrapper.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="secureElementIsDisabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>secureElementIsDisabled</h4>
<pre>private&nbsp;boolean secureElementIsDisabled</pre>
</li>
</ul>
<a name="supportedUpdates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportedUpdates</h4>
<pre>private&nbsp;<a href="../../../../../../main/java/de/bsi/seapi/holdertypes/UpdateVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">UpdateVariantsHolder</a> supportedUpdates</pre>
</li>
</ul>
<a name="supportedTimeSync">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportedTimeSync</h4>
<pre>private&nbsp;<a href="../../../../../../main/java/de/bsi/seapi/holdertypes/SyncVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">SyncVariantsHolder</a> supportedTimeSync</pre>
</li>
</ul>
<a name="erssm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>erssm</h4>
<pre>private&nbsp;<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> erssm</pre>
</li>
</ul>
<a name="cryptoCore">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cryptoCore</h4>
<pre>private&nbsp;<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a> cryptoCore</pre>
</li>
</ul>
<a name="serialNumber">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialNumber</h4>
<pre>private&nbsp;byte[] serialNumber</pre>
</li>
</ul>
<a name="latestLogMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>latestLogMessage</h4>
<pre>private&nbsp;byte[] latestLogMessage</pre>
</li>
</ul>
<a name="clientsUsingTSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientsUsingTSE</h4>
<pre>private&nbsp;java.util.HashSet&lt;java.lang.String&gt; clientsUsingTSE</pre>
</li>
</ul>
<a name="maxNumberClients">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>maxNumberClients</h4>
<pre>private&nbsp;int maxNumberClients</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SecurityModule--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SecurityModule</h4>
<pre>public&nbsp;SecurityModule()
               throws java.io.IOException</pre>
<div class="block">Default constructor for the Security Module. 
 Constructs a CryptoCore and a ERSSpecificModule, then uses the CryptoCore to calculate the serialNumber.<br>
 
 <b>Changes in version 1.4:</b><br>
 The value of supportedUpdates is now dependent on the value of <i>updateTransactionMode</i> in config.properties.
 Please check the annotations in that file to find out, whether aggregated updates are yet implemented.<br>
 Since version 1.4, this constructor also sets the value of supportedTimeSync. Please read the configuration file and the handbook for more info
 about the time sync method.<br>
 
 <b>Changes in version 1.5:</b><br>
 Now stores the maximum number of clients that may use the TSE simultaneously internally. If reading that value from the configuration file fails, the maximum number 
 of clients is set to the value of Constants#MAX_NUMBER_OF_CLIENTS.
 Creates a HashSet to store the clientIds that are registered.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - is thrown by the CryptoCore constructor if it fails at loading the keys for its algorithm objects OR <br> 
 is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/preferences/PropertyValues.html#getInstance--">PropertyValues.getInstance()</a> when no path to the resources directory was set via <a href="../../../../../../main/java/de/bsi/tsesimulator/preferences/PropertyValues.html#setPathToResourceDirectory-java.lang.String-">PropertyValues.setPathToResourceDirectory(String)</a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="SecurityModule-boolean-long-long-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SecurityModule</h4>
<pre>public&nbsp;SecurityModule(boolean&nbsp;isDisabledLoaded,
                      long&nbsp;signatureCounterLoaded,
                      long&nbsp;transactionNumberLoaded,
                      long&nbsp;clockTimeUnixLoaded)
               throws java.io.IOException</pre>
<div class="block">The constructor that shall be used when a persistence file was loaded. Is called by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a>.<br>
 
 Constructs a CryptoCore and a ERSSpecificModule with the specified time, the specified signature counter and the specified transaction number.
 Sets the enabled state of the security module as well.<br>
 
 <b>Changes in version 1.4:</b><br>
 The value of supportedUpdates is now dependent on the value of <i>updateTransactionMode</i> in config.properties.
 Please check the annotations in that file to find out, whether aggregated updates are yet implemented.<br>
 Since version 1.4, this constructor also sets the value of supportedTimeSync. Please read the configuration file and the handbook for more info
 about the time sync method.<br>
 
 <b>Changes in version 1.5:</b><br>
 Now stores the maximum number of clients that may use the TSE simultaneously internally. If reading that value from the configuration file fails, the maximum number 
 of clients is set to the value of <a href="../../../../../../main/java/de/bsi/tsesimulator/constants/Constants.html#DEFAULT_MAX_NUMBER_OF_CLIENTS">Constants.DEFAULT_MAX_NUMBER_OF_CLIENTS</a>.
 Creates a HashSet to store the clientIds that are registered.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isDisabledLoaded</code> - the loaded status of the SE. true if it has been disabled.</dd>
<dd><code>signatureCounterLoaded</code> - the loaded signature counter.</dd>
<dd><code>transactionNumberLoaded</code> - the loaded transaction number.</dd>
<dd><code>clockTimeUnixLoaded</code> - the loaded time in Unix time.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - is thrown by the CryptoCore constructor if it fails at loading the keys for its algorithm objects OR <br> 
 is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/preferences/PropertyValues.html#getInstance--">PropertyValues.getInstance()</a> when no path to the resources directory was set via <a href="../../../../../../main/java/de/bsi/tsesimulator/preferences/PropertyValues.html#setPathToResourceDirectory-java.lang.String-">PropertyValues.setPathToResourceDirectory(String)</a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSecureElementIsDisabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSecureElementIsDisabled</h4>
<pre>boolean&nbsp;getSecureElementIsDisabled()</pre>
</li>
</ul>
<a name="getUpdateVariants--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdateVariants</h4>
<pre>public&nbsp;<a href="../../../../../../main/java/de/bsi/seapi/holdertypes/UpdateVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">UpdateVariantsHolder</a>&nbsp;getUpdateVariants()</pre>
</li>
</ul>
<a name="getSyncVariants--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSyncVariants</h4>
<pre>public&nbsp;<a href="../../../../../../main/java/de/bsi/seapi/holdertypes/SyncVariantsHolder.html" title="class in main.java.de.bsi.seapi.holdertypes">SyncVariantsHolder</a>&nbsp;getSyncVariants()</pre>
</li>
</ul>
<a name="setDisabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDisabled</h4>
<pre>boolean&nbsp;setDisabled()</pre>
<div class="block">Separate method to disable the secure element as the TR-03151 implicates in the description of the disableSecureElement function.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true, if this secure element has been disabled.</dd>
</dl>
</li>
</ul>
<a name="getMaxNumberClients--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxNumberClients</h4>
<pre>public&nbsp;int&nbsp;getMaxNumberClients()</pre>
<div class="block">fetches the internally stored number of clients that are the maximum for clients using the TSE simulator simultaneously.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum number of clients that can use the SecureElement at the same time.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="getERSSMMaxNumberOpenTransactions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getERSSMMaxNumberOpenTransactions</h4>
<pre>public&nbsp;int&nbsp;getERSSMMaxNumberOpenTransactions()</pre>
<div class="block">Calls <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getMaxNumberOpenTransactions--">ERSSpecificModule.getMaxNumberOpenTransactions()</a> to determine the maximum number of transactions that may be opened simultaneously. 
 It is used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#getMaxNumberOfTransactions-main.java.de.bsi.seapi.holdertypes.LongHolder-">TSEController.getMaxNumberOfTransactions(main.java.de.bsi.seapi.holdertypes.LongHolder)</a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the maximum number of transactions fetched from the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a></dd>
</dl>
</li>
</ul>
<a name="getSerialNumber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSerialNumber</h4>
<pre>public&nbsp;byte[]&nbsp;getSerialNumber()</pre>
<div class="block">Fetches the stored serial number.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a byte array with the serial number.</dd>
</dl>
</li>
</ul>
<a name="getCryptoCore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCryptoCore</h4>
<pre>public&nbsp;<a href="../../../../../../main/java/de/bsi/tsesimulator/tse/CryptoCore.html" title="class in main.java.de.bsi.tsesimulator.tse">CryptoCore</a>&nbsp;getCryptoCore()</pre>
<div class="block">Fetches the CryptoCore used by this SecurityModule</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the crypto core</dd>
</dl>
</li>
</ul>
<a name="getLatestLogMessage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestLogMessage</h4>
<pre>public&nbsp;byte[]&nbsp;getLatestLogMessage()
                           throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoLogMessage.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoLogMessage</a></pre>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to obtain the last log message created for <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#readLogMessage-main.java.de.bsi.seapi.holdertypes.ByteArrayHolder-">TSEController.readLogMessage(main.java.de.bsi.seapi.holdertypes.ByteArrayHolder)</a>. 
 Be advised that in the case of a storage failure, the last log message created might not be found on persistent storage but through the invocation of 
 this method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the last log message that was created as a byte array.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoLogMessage.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoLogMessage</a></code> - if there is no log message to return</dd>
</dl>
</li>
</ul>
<a name="getNumberOfRegisteredClients--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfRegisteredClients</h4>
<pre>public&nbsp;int&nbsp;getNumberOfRegisteredClients()</pre>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to get the number of clients that are currently registered to use the TSE. 
 This number is used to determine the number of clients for <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#getCurrentNumberOfClients-main.java.de.bsi.seapi.holdertypes.LongHolder-">TSEController.getCurrentNumberOfClients(main.java.de.bsi.seapi.holdertypes.LongHolder)</a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of currently registered clients</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>TSEController#registerClient(String)}, {@linkplain TSEController#deregisterClient(String)}</code></dd>
</dl>
</li>
</ul>
<a name="getNumberOfERSSMopenTransactions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfERSSMopenTransactions</h4>
<pre>public&nbsp;int&nbsp;getNumberOfERSSMopenTransactions()</pre>
<div class="block">Calls the ERSSpecificModule to get the number of currently open transactions.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the value of <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#getNumberOfOpenTransactions--">ERSSpecificModule.getNumberOfOpenTransactions()</a></dd>
</dl>
</li>
</ul>
<a name="getCurrentTransactionCounter--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTransactionCounter</h4>
<pre>long&nbsp;getCurrentTransactionCounter()</pre>
<div class="block">used to get the transaction counter from the ERSSpecificModule. Primarily used for persisting that counter.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the transaction counter of the ERSSpecificModule.</dd>
</dl>
</li>
</ul>
<a name="getCurrentTimeFromCryptoCore--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTimeFromCryptoCore</h4>
<pre>long&nbsp;getCurrentTimeFromCryptoCore()</pre>
<div class="block">Used to get the current time of the clock in the CryptoCore as Unix time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current time as Unix time.</dd>
</dl>
</li>
</ul>
<a name="startTransaction-java.lang.String-byte:A-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransaction</h4>
<pre>public&nbsp;byte[]&nbsp;startTransaction(java.lang.String&nbsp;clientID,
                               byte[]&nbsp;processData,
                               java.lang.String&nbsp;processType,
                               byte[]&nbsp;additionalData)
                        throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorTransactionCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorTransactionCounterOverflow</a>,
                               <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorStartTransactionFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorStartTransactionFailed</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/TooManyOpenTransactionsException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">TooManyOpenTransactionsException</a></pre>
<div class="block">Calls the startTransaction method in the ERSSpecificModule class and wraps the result with the SEQUENCE wrapper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientID</code> - - represents the ID of the application that has invoked the function.</dd>
<dd><code>processData</code> - - the process data that has to be logged as an octet string</dd>
<dd><code>processType</code> - - represents the type of the transaction as defined by the application. Is OPTIONAL according to TR-03151 but MUST requirement
 according to TR-03153..</dd>
<dd><code>additionalData</code> - - OPTIONAL. currently reserved for future use.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a TransactionLogMessage encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - if the transaction log message with the SEQUENCE wrapper could not be converted to a TLV byte array due to a 
 required value being absent.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - if the transaction log message with the SEQUENCE wrapper could not be converted to a TLV byte array due to 
 a value being too big for conversion into an ASN1 encoded TLV byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the signature operation in the CryptoCore fails and is propagated to the ERSSpecificModule.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorTransactionCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorTransactionCounterOverflow</a></code> - when incrementing the transaction counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorStartTransactionFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorStartTransactionFailed</a></code> - if the clientID is that of an unregistered client</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/TooManyOpenTransactionsException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">TooManyOpenTransactionsException</a></code> - if starting this transaction would be one too many</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="updateTransaction-java.lang.String-long-byte:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTransaction</h4>
<pre>public&nbsp;byte[]&nbsp;updateTransaction(java.lang.String&nbsp;clientID,
                                long&nbsp;transactionNumber,
                                byte[]&nbsp;processData,
                                java.lang.String&nbsp;processType)
                         throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                                <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTransactionFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTransactionFailed</a></pre>
<div class="block">Calls the updateTransaction method in the ERSSpecificModule class and wraps the result with the SEQUENCE wrapper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientID</code> - - represents the ID of the application that has invoked the function.</dd>
<dd><code>transactionNumber</code> - - number of the transaction to be updated. Has to exist for the correct execution of this function.</dd>
<dd><code>processData</code> - - the process data that has to be logged as an octet string</dd>
<dd><code>processType</code> - - represents the type of the transaction as defined by the application. Is OPTIONAL according to TR-03151 but MUST requirement
 according to TR-03153.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a TransactionLogMessage encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a></code> - is thrown by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> if there is no open transaction with the specified transaction number.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the signature operation in the CryptoCore fails and is propagated to the ERSSpecificModule.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTransactionFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTransactionFailed</a></code> - if the function is invoked by an unregistered clientId</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="finishTransaction-java.lang.String-long-byte:A-java.lang.String-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishTransaction</h4>
<pre>public&nbsp;byte[]&nbsp;finishTransaction(java.lang.String&nbsp;clientID,
                                long&nbsp;transactionNumber,
                                byte[]&nbsp;processData,
                                java.lang.String&nbsp;processType,
                                byte[]&nbsp;additionalData)
                         throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                                <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                                <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorFinishTransactionFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorFinishTransactionFailed</a></pre>
<div class="block">Calls the FinishTransaction method in the ERSSpecificModule class and wraps the result with the SEQUENCE wrapper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientID</code> - represents the ID of the application that has invoked the function.</dd>
<dd><code>transactionNumber</code> - number of the transaction to be finished. Has to exist for the correct execution of this function.</dd>
<dd><code>processData</code> - the process data that has to be logged as an octet string</dd>
<dd><code>processType</code> - represents the type of the transaction as defined by the application. Is OPTIONAL according to TR-03151 but MUST requirement
 according to TR-03153.</dd>
<dd><code>additionalData</code> - OPTIONAL. currently reserved for future use.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a TransactionLogMessage encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorNoTransaction.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorNoTransaction</a></code> - thrown by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> if no open transaction exists with that particular transaction number.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing processType (processType == null) would cause such an Exception.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the signature operation in the CryptoCore fails and is propagated to the ERSSpecificModule.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorFinishTransactionFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorFinishTransactionFailed</a></code> - if the function is invoked by an unregistered clientId</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="initialize-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>public&nbsp;byte[]&nbsp;initialize(java.lang.String&nbsp;description)
                  throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorSigningSystemOperationDataFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorSigningSystemOperationDataFailed</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Calls <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#initialize-java.lang.String-">ERSSpecificModule.initialize(String)</a> to create a SystemLogMessage and wraps it with the SEQUENCE wrapper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>description</code> - the description of the SE API, either set by the manufacturer or on fist call of <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#initialize-java.lang.String-">TSEController.initialize(String)</a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorSigningSystemOperationDataFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorSigningSystemOperationDataFailed</a></code></dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the signature operation in the CryptoCore fails and is propagated to the ERSSpecificModule.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value exceeds the limits of what can be encoded in ASN.1 
 DER format</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should have been present is not, and therefore null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="updateTime-java.time.ZonedDateTime-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTime</h4>
<pre>public&nbsp;byte[]&nbsp;updateTime(java.time.ZonedDateTime&nbsp;newTime,
                         boolean&nbsp;explicitTimeWasPassed)
                  throws <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTimeFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTimeFailed</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                         <a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorInvalidTime.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorInvalidTime</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></pre>
<div class="block">Calls the updateTime method in the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a>. The parameter explicitTimeWasPassed is used to distinguish between the two 
 ERSSpecificModule updateTime methods. If an explicit time was passed, the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> would pass that time to this method. If no explicit
 time was passed, the TSEController would pass null and false to indicate that the parameterless updateTime of the ERSSpecificModule has
 to be used. The result is a SEQUENCE-wrapped <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a> if the execution of this function is successful.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newTime</code> - - either a valid time that shall be set in the CryptoCore's clock or null depending on the value of explicitTimeWasPassed.</dd>
<dd><code>explicitTimeWasPassed</code> - - if this is true, the ERSSpecificModule method to explicitly set a new time is called. If this is false, the 
 parameterless variant of this method is called instead.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorUpdateTimeFailed.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorUpdateTimeFailed</a></code> - can only be raised, if the explicit time setting is used. And only, if the new time is before 1.1.2019 0:0:0 or 
 after the beginning of the year 2100.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value is too big to be converted to
 an ASN1 DER encoded byte array.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/TransactionLogMessage.html#toMinorTLVByteArray--">TransactionLogMessage.toMinorTLVByteArray()</a> if a value that should be present is not.
 For example, a missing time would cause such an Exception.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the signature operation in the CryptoCore fails and is propagated to the ERSSpecificModule.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/seapi/exceptions/ErrorInvalidTime.html" title="class in main.java.de.bsi.seapi.exceptions">ErrorInvalidTime</a></code> - if a value for the new time is provided and that value is out of bounds.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="disableSE--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableSE</h4>
<pre>public&nbsp;byte[]&nbsp;disableSE()
                 throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                        <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                        <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                        <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Calls <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html#disableSecureElement--">ERSSpecificModule.disableSecureElement()</a> to create a SEQUENCE-wrapped <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a> logging the process of disabling the SecureElement. 
 A separate function to disable the secure element is needed, because the TR-03151 requires
 the de-activation being a separate step.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a SystemLogMessage encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the signature operation in the CryptoCore fails and is propagated to the ERSSpecificModule.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value exceeds the limits of what can be encoded in ASN.1 
 DER format</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should have been present is not, and therefore null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
<a name="authenticateUser-java.lang.String-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authenticateUser</h4>
<pre>public&nbsp;byte[]&nbsp;authenticateUser(java.lang.String&nbsp;userID,
                               int&nbsp;role,
                               boolean&nbsp;authenticationResult,
                               boolean&nbsp;userIdManagedByTSE)
                        throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                               <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Is used by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to have the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> create a SystemLogMessage logging the attempt to authenticate
 a user. The SecurityModule gets the SystemLogMessage without the SEQUENCE wrapper back from the ERSSpecificModule and adds the wrapper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userID</code> - the userId that was passed from the outside to the TSEController.</dd>
<dd><code>role</code> - the number of the role that the user has. Irrelevant if the userId is not managed by the TSE.</dd>
<dd><code>authenticationResult</code> - the result of the authentication, true if the user has been authenticated, false otherwise.</dd>
<dd><code>userIdManagedByTSE</code> - indicates whether the userId is known by the TSE or not. If the userId is known, is is true, if not it is false.
 Influences the way the ERSSpecificModule constructs the SystemLogMessage.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a> encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the CryptoCore fails to sign the LogMessage and throws a SignatureException.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value exceeds the limits of what can be encoded in ASN.1 
 DER format</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should have been present is not, and therefore null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>ERSSpecificModule#authenticateUser(String, int, boolean, boolean)}</code></dd>
</dl>
</li>
</ul>
<a name="logOutUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logOutUser</h4>
<pre>public&nbsp;byte[]&nbsp;logOutUser(java.lang.String&nbsp;userId)
                  throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                         <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Is used by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to have the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> create a SystemLogMessage logging the successful log out 
 operation of a user. The SecurityModule gets the SystemLogMessage without the SEQUENCE wrapper back from the ERSSpecificModule and adds the wrapper.
 <br><b>Note: as of version 1.5, there is no way the simulator performs a log out due to time out.</b><br>
 This means, that in the systemOperationData of every SystemLog produced by this method, the log out reason is "user".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - the ID of the user that wants to log out. Is provided externally to the TSEController.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a> encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the CryptoCore fails to sign the LogMessage and throws a SignatureException.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value exceeds the limits of what can be encoded in ASN.1 
 DER format</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should have been present is not, and therefore null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>ERSSpecificModule#logOut(String, int)}</code></dd>
</dl>
</li>
</ul>
<a name="unblockUser-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unblockUser</h4>
<pre>public&nbsp;byte[]&nbsp;unblockUser(java.lang.String&nbsp;userID,
                          int&nbsp;unblockResult)
                   throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a>,
                          <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a>,
                          <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a>,
                          <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></pre>
<div class="block">Is used by the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse">TSEController</a> to have the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a> create a SystemLogMessage logging the invocation of the function 
 unblockUser. The SecurityModule gets the SystemLogMessage without the SEQUENCE wrapper back from the ERSSpecificModule and adds the wrapper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - the ID of the user that wants to be unblocked. Is provided externally to the TSEController.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html" title="class in main.java.de.bsi.tsesimulator.msg">SystemLogMessage</a> encoded as an ASN1 encoded byte array with the SEQUENCE wrapper attached to it.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ErrorSignatureCounterOverflow.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ErrorSignatureCounterOverflow</a></code> - when incrementing the signature counter would result in an illegal value for that counter</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/SigningOperationFailedException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">SigningOperationFailedException</a></code> - if the CryptoCore fails to sign the LogMessage and throws a SignatureException.</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueTooBigException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueTooBigException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value exceeds the limits of what can be encoded in ASN.1 
 DER format</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ValueNullException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ValueNullException</a></code> - is thrown by <a href="../../../../../../main/java/de/bsi/tsesimulator/msg/SystemLogMessage.html#toMinorTLVByteArray--">SystemLogMessage.toMinorTLVByteArray()</a> if a value that should have been present is not, and therefore null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>ERSSpecificModule#unblockUser(String, int)}</code></dd>
</dl>
</li>
</ul>
<a name="registerClient-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerClient</h4>
<pre>public&nbsp;void&nbsp;registerClient(java.lang.String&nbsp;clientId)
                    throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ClientIdAlreadyRegisteredException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ClientIdAlreadyRegisteredException</a>,
                           <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/TooManyClientsException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">TooManyClientsException</a></pre>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#registerClient-java.lang.String-">TSEController.registerClient(String)</a> to add a new clientId to the set of registered ones.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientId</code> - the client to be added</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ClientIdAlreadyRegisteredException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ClientIdAlreadyRegisteredException</a></code> - if the client had been registered before</dd>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/TooManyClientsException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">TooManyClientsException</a></code> - if adding the client would result in one client too many for the TSE</dd>
</dl>
</li>
</ul>
<a name="deregisterClient-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deregisterClient</h4>
<pre>public&nbsp;void&nbsp;deregisterClient(java.lang.String&nbsp;clientId)
                      throws <a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ClientIdNotRegisteredException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ClientIdNotRegisteredException</a></pre>
<div class="block">Used by <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#deregisterClient-java.lang.String-">TSEController.deregisterClient(String)</a> to remove a client from the set of registered ones.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientId</code> - the client to be removed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../main/java/de/bsi/tsesimulator/exceptions/ClientIdNotRegisteredException.html" title="class in main.java.de.bsi.tsesimulator.exceptions">ClientIdNotRegisteredException</a></code> - if attempting to remove a client that is not even registered</dd>
</dl>
</li>
</ul>
<a name="deregisterAllClients--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deregisterAllClients</h4>
<pre>public&nbsp;void&nbsp;deregisterAllClients()</pre>
<div class="block">Used by         <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#gracefulShutdown--">TSEController.gracefulShutdown()</a> to de-register all the currently registered clients. This is performed so that another 
 dummy client can then be used to close all remaining open transactions, even if the TSE technically is a single client TSE.
 This method just checks if there are still elements inside the underlying HashSet storing the registered clients and deletes them if there are.<br>
 Note: after this method returns, there are no clients registered on the TSE.</div>
</li>
</ul>
<a name="getERSSMOpenTransactionNumbers--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getERSSMOpenTransactionNumbers</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.Long&gt;&nbsp;getERSSMOpenTransactionNumbers()</pre>
<div class="block">Gets a Set of the transaction numbers associated with currently open transactions from the <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse">ERSSpecificModule</a>.
 Used for <a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html#gracefulShutdown--">TSEController.gracefulShutdown()</a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Set of transaction numbers of currently open transactions</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.5</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecurityModule.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/ERSSpecificModule.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../main/java/de/bsi/tsesimulator/tse/TSEController.html" title="class in main.java.de.bsi.tsesimulator.tse"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?main/java/de/bsi/tsesimulator/tse/SecurityModule.html" target="_top">Frames</a></li>
<li><a href="SecurityModule.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
